{"version":3,"file":"static/js/953.9d8c729a.chunk.js","mappings":"iMACA,GAAgB,IAAM,qB,+CC6EtB,EAvEc,SAAC,GAA6B,IAA3BA,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,YACvB,GAA0BC,EAAAA,EAAAA,UAASF,GAAkB,IAArD,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAA4BC,EAAAA,EAAAA,MAAnBC,GAAT,gBAEAC,EAAAA,EAAAA,YAAU,WACO,KAAXT,GACFU,IAAAA,IAAA,kHAE+GV,EAF/G,gCAIGW,MAAK,SAAAC,GACJN,EAAQM,EAAIP,KAAKQ,YAElBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAE/B,CAACf,IAgBJ,OACE,iBAAKkB,UAAWC,EAAAA,OAAhB,WACE,kBACEC,SAAU,SAAAC,IAjBK,SAAAA,GACnBA,EAAEC,iBACFZ,IAAAA,IAAA,kHAE+GP,EAF/G,gCAIGQ,MAAK,SAAAC,GACJN,EAAQM,EAAIP,KAAKQ,YAElBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MAC9Bd,EAAYE,GACZK,EAAgB,CAAEe,MAAOpB,IAOnBqB,CAAaH,IAFjB,WAKE,kBACEI,KAAK,OACLtB,MAAOA,EACPuB,SAAU,SAAAL,GACRjB,EAASiB,EAAEM,OAAOxB,WAGtB,mBAAQsB,KAAK,SAAb,wBAEF,yBACGpB,EAAKuB,KAAI,SAAAC,GAAE,OACV,UAAC,EAAAC,SAAD,YACE,SAAC,KAAD,CACEZ,UAAWC,EAAAA,IACXY,GAAE,kBAAaF,EAAGG,IAClBC,MAAO,CAAEC,KAAM,WAAYX,MAAOvB,GAHpC,SAKG6B,EAAGM,kBAEN,oBARaN,EAAGG","sources":["webpack://react-homework-template/./src/components/Movies/index.module.css?2c4d","components/Movies/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"Movies_nav__hr2jX\"};","import styles from '../Movies/index.module.css';\nimport { Fragment, useState } from 'react';\nimport axios from 'axios';\nimport { NavLink, useSearchParams } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst Movie = ({ filter, onSetFilter }) => {\n  const [value, setValue] = useState(filter ? filter : '');\n  const [data, setData] = useState([]);\n  const [, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    if (filter !== '') {\n      axios\n        .get(\n          `https://api.themoviedb.org/3/search/movie?api_key=d33121ec8e4d8e2727fc1b2edf68984b&language=en-US&query=${filter}&page=1&include_adult=false`\n        )\n        .then(res => {\n          setData(res.data.results);\n        })\n        .catch(error => console.log(error));\n    }\n  }, [filter]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=d33121ec8e4d8e2727fc1b2edf68984b&language=en-US&query=${value}&page=1&include_adult=false`\n      )\n      .then(res => {\n        setData(res.data.results);\n      })\n      .catch(error => console.log(error));\n    onSetFilter(value);\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <div className={styles.movies}>\n      <form\n        onSubmit={e => {\n          handleSubmit(e);\n        }}\n      >\n        <input\n          type=\"text\"\n          value={value}\n          onChange={e => {\n            setValue(e.target.value);\n          }}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <div>\n        {data.map(el => (\n          <Fragment key={el.id}>\n            <NavLink\n              className={styles.nav}\n              to={`/movies/${el.id}`}\n              state={{ from: '/movies/', query: filter }}\n            >\n              {el.original_title}\n            </NavLink>\n            <br />\n          </Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nMovie.propTypes = {\n  onSetFilter: PropTypes.func.isRequired,\n  filter: PropTypes.string,\n};\n\nexport default Movie;\n"],"names":["filter","onSetFilter","useState","value","setValue","data","setData","useSearchParams","setSearchParams","useEffect","axios","then","res","results","catch","error","console","log","className","styles","onSubmit","e","preventDefault","query","handleSubmit","type","onChange","target","map","el","Fragment","to","id","state","from","original_title"],"sourceRoot":""}